(this.webpackJsonpfitnessTracker=this.webpackJsonpfitnessTracker||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){"use strict";n.r(t);var c=n(7),a=n(0),r=n(11),o=n.n(r),s=n(30),i=n(13);var j=n(9),u=n.n(j),l=n(16),b=n(20),O=n.n(b),h="http://fitnesstrac-kr.herokuapp.com/api/";localStorage.getItem("token");function d(){return(d=Object(l.a)(u.a.mark((function e(t,n){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("".concat(h,"users/login"),{username:t,password:n});case 3:c=e.sent,console.log(c),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}n(94);var f=n(148),p=n(149),x=(n(95),n(2)),m=function(){var e=Object(a.useState)(),t=Object(c.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(),s=Object(c.a)(o,2),i=s[0],j=s[1];function b(){return(b=Object(l.a)(u.a.mark((function e(){var t,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(URL,"/users/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:i})});case 3:return t=e.sent,e.next=6,t.json();case 6:return c=e.sent,e.next=9,c.token;case 9:a=e.sent,storeCurrentUser(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}return Object(x.jsxs)("form",{id:"form",noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),function(){b.apply(this,arguments)}()},children:[Object(x.jsx)(f.a,{id:"username",label:"Username",onInput:function(e){r(e.target.value)}}),Object(x.jsx)(f.a,{id:"password",type:"password",label:"Password",onInput:function(e){j(e.target.value)}}),Object(x.jsx)(p.a,{type:"submit",children:"Register"})]})},g=(n(100),function(){var e=Object(a.useState)(),t=Object(c.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(),s=Object(c.a)(o,2),i=s[0],j=s[1],b=Object(a.useState)(),h=Object(c.a)(b,2),d=h[0],m=h[1],g=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat("http://fitnesstrac-kr.herokuapp.com/api/","users/login"),{username:n,password:i}).then((function(e){var t=e.data.token;t?(localStorage.setItem("token",JSON.stringify(t)),window.location.href="".concat(window.location.origin,"/home")):m("Something went horribly wrong")})).catch((function(e){console.log(e),m("Something went horribly wrong")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[d,Object(x.jsxs)("form",{id:"form",noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),g()},children:[Object(x.jsx)(f.a,{id:"username",label:"Username",onInput:function(e){r(e.target.value)}}),Object(x.jsx)(f.a,{id:"password",type:"password",label:"Password",onInput:function(e){j(e.target.value)}}),Object(x.jsx)(p.a,{type:"submit",children:"LOGIN"})]})]})}),v=(n(101),function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{id:"title",children:"Welcome to my Fitness TrackR"}),Object(x.jsx)(m,{}),Object(x.jsx)(g,{})]})}),S=function(e){var t=e.currentUser,n=e.setCurrentUser,r=Object(a.useState)(),o=Object(c.a)(r,2);o[0],o[1];return Object(x.jsxs)("header",{children:[Object(x.jsx)("h1",{children:"Fitness TrackR"}),Object(x.jsx)("nav",{className:"user-select",children:t?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(s.b,{to:"/Home",activeClassName:"current",children:"Home"}),Object(x.jsx)(s.b,{to:"/Activities",activeClassName:"current",children:"Activities"}),Object(x.jsx)(s.b,{to:"/Routines",activeClassName:"current",children:"Routines"}),Object(x.jsx)(s.b,{to:"/MyRoutines",activeClassName:"current",children:"MyRoutines"}),Object(x.jsxs)("button",{onClick:function(e){localStorage.removeItem("token"),n(!1)},children:["LOG OUT",t.username]})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{onClick:function(e){window.location.href=Object(x.jsx)(v,{}),function(e,t){d.apply(this,arguments)}()},children:"LOG IN"}),Object(x.jsx)("button",{onClick:function(e){window.location.href=Object(x.jsx)(v,{}),n(!0)},children:"Register"})]})})]})},k=(n(60),n(139)),y=n(138),w=n(140),C=n(141),N=n(142),I=n(143),R=n(144),T=JSON.parse(localStorage.getItem("token")),A=function(){var e=Object(a.useState)(),t=Object(c.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(),s=Object(c.a)(o,2),i=s[0],j=s[1],b=Object(a.useState)([]),O=Object(c.a)(b,2),h=(O[0],O[1],function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://fitnesstrac-kr.herokuapp.com/api/","activities"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(T)},body:JSON.stringify({name:n,description:i})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch(console.error);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(x.jsx)("div",{children:Object(x.jsxs)("form",{id:"form",noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),console.log(e),h()},children:[Object(x.jsx)(f.a,{id:"name",label:"name",onInput:function(e){r(e.target.value)}}),Object(x.jsx)(f.a,{id:"description",label:"description",onInput:function(e){j(e.target.value)}}),Object(x.jsx)(p.a,{type:"submit",children:"Create Activity"})]})})},J=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){O.a.get("".concat("http://fitnesstrac-kr.herokuapp.com/api/","activities")).then((function(e){var t=e.data;t.length&&r(t)}))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Activities Page"}),Object(x.jsx)(A,{}),Object(x.jsx)(k.a,{component:y.a,children:Object(x.jsxs)(w.a,{children:[Object(x.jsx)(C.a,{children:Object(x.jsxs)(N.a,{children:[Object(x.jsx)(I.a,{align:"left",children:"ID"}),Object(x.jsx)(I.a,{align:"left",children:"Name"}),Object(x.jsx)(I.a,{align:"left",children:"Description"})]})}),Object(x.jsx)(R.a,{children:n.map((function(e){return Object(x.jsxs)(N.a,{children:[Object(x.jsx)(I.a,{component:"th",scope:"row",children:e.id}),Object(x.jsx)(I.a,{align:"left",children:e.name}),Object(x.jsx)(I.a,{align:"left",children:e.description})]},e.name)}))})]})})]})},P=(n(104),function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){O.a.get("".concat("http://fitnesstrac-kr.herokuapp.com/api/","routines")).then((function(e){var t=e.data;t.length&&r(t)}))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Routines Page"}),Object(x.jsx)(k.a,{component:y.a,children:Object(x.jsxs)(w.a,{children:[Object(x.jsx)(C.a,{children:Object(x.jsxs)(N.a,{children:[Object(x.jsx)(I.a,{align:"left",children:"ID"}),Object(x.jsx)(I.a,{align:"left",children:"Name"}),Object(x.jsx)(I.a,{align:"left",children:"Goal"}),Object(x.jsx)(I.a,{align:"left",children:"CreatorName"})]})}),Object(x.jsx)(R.a,{children:n.map((function(e){return Object(x.jsxs)(N.a,{children:[Object(x.jsx)(I.a,{component:"th",scope:"row",children:e.id}),Object(x.jsx)(I.a,{align:"left",children:e.name}),Object(x.jsx)(I.a,{align:"left",children:e.goal}),Object(x.jsx)(I.a,{align:"left",children:e.creatorName})]},e.name)}))})]})})]})}),F=n(65),D=JSON.parse(localStorage.getItem("token")),E=function(){var e=Object(a.useState)(),t=Object(c.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(),s=Object(c.a)(o,2),i=s[0],j=s[1],b=Object(a.useState)([]),O=Object(c.a)(b,2),h=(O[0],O[1],Object(a.useState)(!0)),d=Object(c.a)(h,2),m=d[0],g=(d[1],function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://fitnesstrac-kr.herokuapp.com/api/","/routines"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(D)},body:JSON.stringify({name:n,goal:i,isPublic:m})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch(console.error);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(x.jsxs)("div",{id:"main",children:[Object(x.jsx)("h1",{children:"My Routines"}),Object(x.jsxs)("form",{id:"form",noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),g()},children:[Object(x.jsx)(f.a,{id:"name",label:"name",onInput:function(e){r(e.target.value)}}),Object(x.jsx)(f.a,{id:"goal",label:"goal",onInput:function(e){j(e.target.value)}}),Object(x.jsx)(p.a,{type:"submit",children:"Create Routine"})]})]})},U=n(145),B=n(146),z=n(147),L=function(e){var t=e.routine,n=t.id,r=t.name,o=t.goal,s=t.creatorName,i=t.isPublic,j=e.onRemoveRoutine,u="http://fitnesstrac-kr.herokuapp.com/api/",l=JSON.parse(localStorage.getItem("token")),b=Object(a.useState)(r),O=Object(c.a)(b,2),h=O[0],d=O[1],p=Object(a.useState)(o),m=Object(c.a)(p,2),g=m[0],v=m[1],S=Object(a.useState)(!1),k=Object(c.a)(S,2),y=k[0],w=k[1];return Object(x.jsxs)(N.a,{children:[Object(x.jsx)(I.a,{component:"th",scope:"row",children:n}),Object(x.jsx)(I.a,{align:"left",children:y?Object(x.jsx)(f.a,{value:h,onChange:function(e){d(e.target.value)}}):h}),Object(x.jsx)(I.a,{align:"left",children:y?Object(x.jsx)(f.a,{value:g,onChange:function(e){v(e.target.value)}}):g}),Object(x.jsx)(I.a,{align:"left",children:s}),Object(x.jsx)(I.a,{align:"left",children:i}),Object(x.jsx)(I.a,{align:"left",children:y?Object(x.jsx)(U.a,{style:{cursor:"pointer"},onClick:function(){!function(e){w(!1),fetch("".concat(u,"routines/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)},body:JSON.stringify({name:h,goal:g})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch(console.error)}(n)}}):Object(x.jsx)(B.a,{style:{cursor:"pointer"},onClick:function(){w(!0)}})}),Object(x.jsx)(I.a,{align:"left",children:Object(x.jsx)(z.a,{onClick:function(){!function(e){j(),fetch("".concat(u,"routines/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)}}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch(console.error)}(n)}})})]},n)},G=(n(105),"http://fitnesstrac-kr.herokuapp.com/api/"),V=JSON.parse(localStorage.getItem("token")),H=function(e){try{return O.a.get("".concat(G,"users/me"),{headers:{"content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.data.username}))}catch(t){console.error(t)}},M=function(e,t){try{return O.a.get("".concat(G,"users/").concat(e,"/routines"),{headers:{"content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.data}))}catch(n){console.error(n)}},W=function(){var e,t=Object(a.useState)([]),n=Object(c.a)(t,2),r=n[0],o=n[1];Object(a.useEffect)(Object(l.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!V){t.next=8;break}return t.next=3,H(V);case 3:return e=t.sent,t.next=6,M(e,V);case 6:n=t.sent,o(n);case 8:case"end":return t.stop()}}),t)}))),[]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(E,{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)(k.a,{component:y.a,children:Object(x.jsxs)(w.a,{children:[Object(x.jsx)(C.a,{children:Object(x.jsxs)(N.a,{children:[Object(x.jsx)(I.a,{align:"left",children:"ID"}),Object(x.jsx)(I.a,{align:"left",children:"Name"}),Object(x.jsx)(I.a,{align:"left",children:"Goal"}),Object(x.jsx)(I.a,{align:"left",children:"Creator Name"}),Object(x.jsx)(I.a,{align:"left",children:"Is Public"}),Object(x.jsx)(I.a,{align:"right",children:" Edit / Delete"})]})}),Object(x.jsx)(R.a,{children:r.map((function(e,t){return Object(x.jsx)(L,{routine:e,onRemoveRoutine:function(){!function(e){var t=Object(F.a)(r);t.splice(e,1),o(t)}(t)}},e.id)}))})]})})]})},q=(n(106),function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],r=(t[1],Object(a.useState)([])),o=Object(c.a)(r,2),j=o[0],u=o[1],l=Object(a.useState)([]),b=Object(c.a)(l,2),O=(b[0],b[1],Object(a.useState)([])),h=Object(c.a)(O,2),d=(h[0],h[1],Object(a.useState)([{id:"",name:"",description:""}])),f=Object(c.a)(d,2),p=(f[0],f[1],Object(a.useState)([])),m=Object(c.a)(p,2),g=(m[0],m[1],Object(a.useState)([{id:"",creatorId:"",isPublic:!0,name:"",goal:"",creatorName:"",activities:[]}])),k=Object(c.a)(g,2),y=(k[0],k[1],Object(a.useState)(!1)),w=Object(c.a)(y,2),C=(w[0],w[1]);return Object(a.useEffect)((function(){JSON.parse(localStorage.getItem("token"))?C(!0):C(!1)})),Object(x.jsx)(s.a,{children:Object(x.jsxs)("div",{id:"App",children:[Object(x.jsx)(S,{userList:n,currentUser:j,setCurrentUser:u}),j?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(i.d,{children:[Object(x.jsx)(i.b,{path:"/home",children:Object(x.jsx)(v,{})}),Object(x.jsx)(i.b,{path:"/activities",children:Object(x.jsx)(J,{})}),Object(x.jsx)(i.b,{path:"/routines",children:Object(x.jsx)(P,{})}),Object(x.jsx)(i.b,{path:"/myRoutines",children:Object(x.jsx)(W,{})}),Object(x.jsx)(i.b,{exact:!0,path:"/login",children:Object(x.jsx)("h2",{style:{padding:".5em"}})}),Object(x.jsx)(i.a,{to:"/home"})]})}):Object(x.jsxs)(i.d,{children:[Object(x.jsx)(i.b,{path:"/",children:Object(x.jsx)("h2",{style:{padding:".5em"},children:"Welcome to Fitness TrackR...log in or register above."})}),Object(x.jsx)(i.a,{to:"/myRoutines"})]})]})})});o.a.render(Object(x.jsx)(q,{}),document.getElementById("root"))},60:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.74472173.chunk.js.map